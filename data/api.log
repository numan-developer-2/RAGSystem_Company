2025-10-12 19:14:47.482 | INFO     | __main__:<module>:83 - Loading sentence-transformers model...
2025-10-12 19:14:51.797 | INFO     | __main__:<module>:86 - Loading FAISS index & meta...
2025-10-12 19:14:51.837 | INFO     | __main__:<module>:91 - âœ… API initialized successfully
2025-10-12 19:14:51.936 | INFO     | __main__:<module>:294 - ============================================================
2025-10-12 19:14:51.936 | INFO     | __main__:<module>:295 - ðŸš€ RAG API Server
2025-10-12 19:14:51.937 | INFO     | __main__:<module>:296 - ============================================================
2025-10-12 19:14:51.937 | INFO     | __main__:<module>:297 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-12 19:14:51.938 | INFO     | __main__:<module>:298 - ðŸ¤– Embedding model: all-mpnet-base-v2
2025-10-12 19:14:51.938 | INFO     | __main__:<module>:299 - ðŸ“Š Index chunks: 179
2025-10-12 19:14:51.939 | INFO     | __main__:<module>:300 - ðŸ”‘ API Key set: Yes
2025-10-12 19:14:51.939 | INFO     | __main__:<module>:301 - ðŸŽ¯ Default model: meta-llama/llama-3.1-8b-instruct:free
2025-10-12 19:14:51.940 | INFO     | __main__:<module>:302 - ============================================================
2025-10-12 19:15:09.499 | INFO     | __mp_main__:<module>:83 - Loading sentence-transformers model...
2025-10-12 19:15:20.792 | INFO     | __mp_main__:<module>:86 - Loading FAISS index & meta...
2025-10-12 19:15:20.796 | INFO     | __mp_main__:<module>:91 - âœ… API initialized successfully
2025-10-12 19:15:21.026 | INFO     | api_openrouter:<module>:83 - Loading sentence-transformers model...
2025-10-12 19:15:28.919 | INFO     | api_openrouter:<module>:86 - Loading FAISS index & meta...
2025-10-12 19:15:28.926 | INFO     | api_openrouter:<module>:91 - âœ… API initialized successfully
2025-10-13 13:54:51.893 | INFO     | __main__:initialize_resources:107 - Loading sentence-transformers model...
2025-10-13 13:54:56.085 | INFO     | __main__:initialize_resources:110 - Loading FAISS index & meta...
2025-10-13 13:54:56.130 | INFO     | __main__:initialize_resources:115 - âœ… API initialized successfully
2025-10-13 13:54:56.218 | INFO     | __main__:<module>:327 - ============================================================
2025-10-13 13:54:56.219 | INFO     | __main__:<module>:328 - ðŸš€ RAG API Server
2025-10-13 13:54:56.219 | INFO     | __main__:<module>:329 - ============================================================
2025-10-13 13:54:56.220 | INFO     | __main__:<module>:330 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-13 13:54:56.220 | INFO     | __main__:<module>:331 - ðŸ¤– Embedding model: all-mpnet-base-v2
2025-10-13 13:54:56.221 | INFO     | __main__:<module>:332 - ðŸ“Š Index chunks: 179
2025-10-13 13:54:56.221 | INFO     | __main__:<module>:333 - ðŸ”‘ API Key set: Yes
2025-10-13 13:54:56.221 | INFO     | __main__:<module>:334 - ðŸŽ¯ Default model: meta-llama/llama-3.1-8b-instruct:free
2025-10-13 13:54:56.222 | INFO     | __main__:<module>:335 - ============================================================
2025-10-13 13:54:56.400 | INFO     | api_openrouter:initialize_resources:107 - Loading sentence-transformers model...
2025-10-13 13:55:00.248 | INFO     | api_openrouter:initialize_resources:110 - Loading FAISS index & meta...
2025-10-13 13:55:00.255 | INFO     | api_openrouter:initialize_resources:115 - âœ… API initialized successfully
2025-10-13 14:00:34.077 | INFO     | api_openrouter:initialize_resources:116 - Loading sentence-transformers model...
2025-10-13 14:00:37.974 | INFO     | api_openrouter:initialize_resources:119 - Loading FAISS index & meta...
2025-10-13 14:00:37.988 | INFO     | api_openrouter:initialize_resources:124 - âœ… API initialized successfully
2025-10-13 14:03:50.686 | INFO     | api_openrouter:initialize_resources:124 - Loading sentence-transformers model...
2025-10-13 14:03:54.879 | INFO     | api_openrouter:initialize_resources:127 - Loading FAISS index & meta...
2025-10-13 14:03:54.894 | INFO     | api_openrouter:initialize_resources:132 - âœ… API initialized successfully
2025-10-13 14:07:36.365 | INFO     | api_openrouter:initialize_resources:138 - Loading sentence-transformers model...
2025-10-13 14:07:40.159 | INFO     | api_openrouter:initialize_resources:141 - Loading FAISS index & meta...
2025-10-13 14:07:40.174 | INFO     | api_openrouter:initialize_resources:146 - âœ… API initialized successfully
2025-10-13 16:07:19.284 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-13 16:07:19.291 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-13 16:07:19.413 | INFO     | __main__:<module>:278 - ============================================================
2025-10-13 16:07:19.414 | INFO     | __main__:<module>:279 - ðŸš€ RAG Company Chatbot API Server
2025-10-13 16:07:19.414 | INFO     | __main__:<module>:278 - ============================================================
2025-10-13 16:07:19.415 | INFO     | __main__:<module>:279 - ðŸš€ RAG Company Chatbot API Server
2025-10-13 16:07:19.416 | INFO     | __main__:<module>:280 - ============================================================
2025-10-13 16:07:19.416 | INFO     | __main__:<module>:280 - ============================================================
2025-10-13 16:07:19.416 | INFO     | __main__:<module>:281 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-13 16:07:19.416 | INFO     | __main__:<module>:281 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-13 16:07:19.417 | INFO     | __main__:<module>:282 - ðŸ”‘ API Key set: No
2025-10-13 16:07:19.417 | INFO     | __main__:<module>:283 - ============================================================
2025-10-13 16:07:19.419 | INFO     | __main__:<module>:282 - ðŸ”‘ API Key set: No
2025-10-13 16:07:19.420 | INFO     | __main__:<module>:283 - ============================================================
2025-10-13 16:07:19.655 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-13 16:07:19.656 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-13 16:07:19.656 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-13 16:07:19.656 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-13 16:07:23.593 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-13 16:07:23.604 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-13 16:07:23.632 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-13 16:07:23.633 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-13 16:07:23.634 | INFO     | api_openrouter:startup_event:70 - âœ… RAG Engine initialized successfully
2025-10-13 16:07:23.778 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-13 16:07:23.779 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-13 16:07:23.787 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-13 16:07:23.787 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-13 16:07:23.791 | INFO     | api_openrouter:startup_event:70 - âœ… RAG Engine initialized successfully
2025-10-13 16:23:27.346 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-13 16:23:27.405 | INFO     | __main__:<module>:278 - ============================================================
2025-10-13 16:23:27.406 | INFO     | __main__:<module>:279 - ðŸš€ RAG Company Chatbot API Server
2025-10-13 16:23:27.408 | INFO     | __main__:<module>:280 - ============================================================
2025-10-13 16:23:27.408 | INFO     | __main__:<module>:281 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-13 16:23:27.409 | INFO     | __main__:<module>:282 - ðŸ”‘ API Key set: No
2025-10-13 16:23:27.411 | INFO     | __main__:<module>:283 - ============================================================
2025-10-13 16:23:27.487 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-13 16:23:27.488 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-13 16:23:31.067 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-13 16:23:31.067 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-13 16:23:31.071 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-13 16:23:31.071 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-13 16:23:31.073 | INFO     | api_openrouter:startup_event:70 - âœ… RAG Engine initialized successfully
2025-10-13 16:25:03.105 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-13 16:25:03.178 | INFO     | __main__:<module>:278 - ============================================================
2025-10-13 16:25:03.180 | INFO     | __main__:<module>:279 - ðŸš€ RAG Company Chatbot API Server
2025-10-13 16:25:03.181 | INFO     | __main__:<module>:280 - ============================================================
2025-10-13 16:25:03.181 | INFO     | __main__:<module>:281 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-13 16:25:03.182 | INFO     | __main__:<module>:282 - ðŸ”‘ API Key set: No
2025-10-13 16:25:03.182 | INFO     | __main__:<module>:283 - ============================================================
2025-10-13 16:25:03.301 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-13 16:25:03.302 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-13 16:25:08.851 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-13 16:25:08.852 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-13 16:25:08.860 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-13 16:25:08.863 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-13 16:25:08.863 | INFO     | api_openrouter:startup_event:70 - âœ… RAG Engine initialized successfully
2025-10-13 16:27:22.005 | INFO     | api_openrouter:query_endpoint:125 - Query from 127.0.0.1: What offer does unisoftware...
2025-10-13 16:27:22.005 | INFO     | rag_engine:query:270 - Retrieving top 5 chunks for: What offer does unisoftware...
2025-10-13 16:27:23.397 | INFO     | rag_engine:query:287 - Generating answer using meta-llama/llama-3.1-8b-instruct:free...
2025-10-13 16:27:27.418 | ERROR    | rag_engine:query:319 - Error in query pipeline: RetryError[<Future at 0x19054d7fb10 state=finished raised ValueError>]
2025-10-13 16:29:08.271 | INFO     | api_openrouter:query_endpoint:125 - Query from 127.0.0.1: What is the company policy about remork work...
2025-10-13 16:29:08.271 | INFO     | rag_engine:query:270 - Retrieving top 5 chunks for: What is the company policy about remork work...
2025-10-13 16:29:08.337 | INFO     | rag_engine:query:287 - Generating answer using google/gemini-flash-1.5...
2025-10-13 16:29:12.353 | ERROR    | rag_engine:query:319 - Error in query pipeline: RetryError[<Future at 0x19054f54b90 state=finished raised ValueError>]
2025-10-14 13:11:59.123 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 13:11:59.267 | INFO     | __main__:<module>:278 - ============================================================
2025-10-14 13:11:59.269 | INFO     | __main__:<module>:279 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 13:11:59.269 | INFO     | __main__:<module>:280 - ============================================================
2025-10-14 13:11:59.271 | INFO     | __main__:<module>:281 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 13:11:59.274 | INFO     | __main__:<module>:282 - ðŸ”‘ API Key set: No
2025-10-14 13:11:59.275 | INFO     | __main__:<module>:283 - ============================================================
2025-10-14 13:11:59.497 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 13:11:59.498 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 13:12:03.639 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 13:12:03.656 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 13:12:03.707 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 13:12:03.708 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 13:12:03.710 | INFO     | api_openrouter:startup_event:70 - âœ… RAG Engine initialized successfully
2025-10-14 13:13:53.825 | INFO     | api_openrouter:query_endpoint:125 - Query from 127.0.0.1: What is the company remote work policy...
2025-10-14 13:13:53.826 | INFO     | rag_engine:query:270 - Retrieving top 5 chunks for: What is the company remote work policy...
2025-10-14 13:13:57.135 | INFO     | rag_engine:query:287 - Generating answer using meta-llama/llama-3.1-8b-instruct:free...
2025-10-14 13:14:01.148 | ERROR    | rag_engine:query:319 - Error in query pipeline: RetryError[<Future at 0x2a0e4c4fb10 state=finished raised ValueError>]
2025-10-14 13:50:21.851 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 13:50:22.006 | INFO     | __main__:<module>:278 - ============================================================
2025-10-14 13:50:22.046 | INFO     | __main__:<module>:279 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 13:50:22.047 | INFO     | __main__:<module>:280 - ============================================================
2025-10-14 13:50:22.048 | INFO     | __main__:<module>:281 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 13:50:22.049 | INFO     | __main__:<module>:282 - ðŸ”‘ API Key set: No
2025-10-14 13:50:22.050 | INFO     | __main__:<module>:283 - ============================================================
2025-10-14 13:50:22.262 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 13:50:22.263 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 13:50:33.091 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 13:50:33.098 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 13:50:33.106 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 13:50:33.106 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 13:50:33.107 | INFO     | api_openrouter:startup_event:70 - âœ… RAG Engine initialized successfully
2025-10-14 13:57:24.585 | INFO     | api_openrouter:query_endpoint:125 - Query from 127.0.0.1: What is the company remote work policy...
2025-10-14 13:57:24.585 | INFO     | rag_engine:query:303 - Retrieving top 5 chunks for: What is the company remote work policy...
2025-10-14 13:57:26.022 | INFO     | rag_engine:query:320 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 13:57:30.043 | ERROR    | rag_engine:query:352 - Error in query pipeline: RetryError[<Future at 0x1e850603b10 state=finished raised ValueError>]
2025-10-14 13:58:53.558 | INFO     | api_openrouter:query_endpoint:125 - Query from 127.0.0.1: Write a brief introduction about your company...
2025-10-14 13:58:53.559 | INFO     | rag_engine:query:303 - Retrieving top 5 chunks for: Write a brief introduction about your company...
2025-10-14 13:58:53.634 | INFO     | rag_engine:query:320 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 13:58:57.656 | ERROR    | rag_engine:query:352 - Error in query pipeline: RetryError[<Future at 0x1e850273410 state=finished raised ValueError>]
2025-10-14 14:06:47.087 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:06:47.186 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:06:47.187 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:06:47.189 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:06:47.189 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:06:47.191 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:06:47.193 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:06:47.296 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:06:47.296 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:06:47.299 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:06:51.379 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:06:51.382 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:06:51.388 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:06:51.388 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:06:51.389 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:07:50.845 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:07:50.892 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:07:50.893 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:07:50.893 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:07:50.894 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:07:50.895 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:07:50.896 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:07:50.987 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:07:50.988 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:07:50.989 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:08:01.583 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:08:01.584 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:08:01.590 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:08:01.591 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:08:01.591 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:09:30.074 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: Write a brief introduction about your company, And which packages do you offer a client about softwa...
2025-10-14 14:09:30.074 | INFO     | rag_engine:query:331 - Retrieving top 5 chunks for: Write a brief introduction about your company, And which packages do you offer a client about softwa...
2025-10-14 14:09:30.246 | INFO     | rag_engine:query:348 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 14:09:30.808 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:09:32.820 | ERROR    | rag_engine:generate_answer:285 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:09:32.820 | ERROR    | rag_engine:generate_answer:310 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:09:35.265 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:09:37.356 | ERROR    | rag_engine:generate_answer:285 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:09:37.357 | ERROR    | rag_engine:generate_answer:310 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:09:39.759 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:09:41.950 | ERROR    | rag_engine:generate_answer:285 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:09:41.950 | ERROR    | rag_engine:generate_answer:310 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:09:41.950 | ERROR    | rag_engine:query:380 - Error in query pipeline: RetryError[<Future at 0x2b4fc157c50 state=finished raised Exception>]
2025-10-14 14:11:33.793 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: Write a brief introduction about your company...
2025-10-14 14:11:33.793 | INFO     | rag_engine:query:331 - Retrieving top 5 chunks for: Write a brief introduction about your company...
2025-10-14 14:11:33.863 | INFO     | rag_engine:query:348 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-14 14:11:34.377 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-14 14:11:38.077 | INFO     | rag_engine:generate_answer:293 - Successfully received response from OpenRouter
2025-10-14 14:12:29.707 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: Write in short your hr policy...
2025-10-14 14:12:29.707 | INFO     | rag_engine:query:331 - Retrieving top 5 chunks for: Write in short your hr policy...
2025-10-14 14:12:29.774 | INFO     | rag_engine:query:348 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-14 14:12:30.257 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-14 14:12:34.007 | INFO     | rag_engine:generate_answer:293 - Successfully received response from OpenRouter
2025-10-14 14:14:13.917 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: How long does SEO take to show results...
2025-10-14 14:14:13.918 | INFO     | rag_engine:query:331 - Retrieving top 5 chunks for: How long does SEO take to show results...
2025-10-14 14:14:13.989 | INFO     | rag_engine:query:348 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-14 14:14:14.481 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-14 14:14:18.102 | INFO     | rag_engine:generate_answer:293 - Successfully received response from OpenRouter
2025-10-14 14:15:07.157 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: Do you build custom web applications...
2025-10-14 14:15:07.157 | INFO     | rag_engine:query:331 - Retrieving top 5 chunks for: Do you build custom web applications...
2025-10-14 14:15:07.233 | INFO     | rag_engine:query:348 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-14 14:15:07.674 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-14 14:15:11.882 | INFO     | rag_engine:generate_answer:293 - Successfully received response from OpenRouter
2025-10-14 14:16:12.712 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: What is a payment schedule for projects...
2025-10-14 14:16:12.713 | INFO     | rag_engine:query:331 - Retrieving top 5 chunks for: What is a payment schedule for projects...
2025-10-14 14:16:12.777 | INFO     | rag_engine:query:348 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-14 14:16:13.258 | INFO     | rag_engine:generate_answer:272 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-14 14:16:20.002 | INFO     | rag_engine:generate_answer:293 - Successfully received response from OpenRouter
2025-10-14 14:24:46.024 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:24:46.094 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:24:46.095 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:24:46.097 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:24:46.098 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:24:46.100 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:24:46.102 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:24:46.215 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:24:46.216 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:24:46.218 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:24:56.524 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:24:56.528 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:24:56.534 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:24:56.534 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:24:56.537 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:25:37.275 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:25:37.318 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:25:37.319 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:25:37.320 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:25:37.320 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:25:37.321 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:25:37.321 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:25:37.385 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:25:37.385 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:25:37.386 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:25:47.406 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:25:47.408 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:25:47.412 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:25:47.412 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:25:47.413 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:33:33.550 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:33:33.656 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:33:33.657 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:33:33.657 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:33:33.658 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:33:33.659 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:33:33.659 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:33:33.838 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:33:33.838 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:33:33.839 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:33:44.553 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:33:44.568 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:33:44.606 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:33:44.606 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:33:44.607 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:35:06.363 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:35:06.471 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:35:06.471 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:35:06.473 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:35:06.474 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:35:06.475 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:35:06.477 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:35:06.571 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:35:06.571 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:35:06.574 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:35:16.968 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:35:16.968 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:35:16.973 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:35:16.973 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:35:16.975 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:35:28.684 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:35:28.728 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:35:28.728 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:35:28.729 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:35:28.730 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:35:28.730 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:35:28.731 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:35:28.807 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:35:28.808 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:35:28.809 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:35:39.005 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:35:39.006 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:35:39.012 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:35:39.012 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:35:39.013 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:40:36.169 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:40:36.215 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:40:36.215 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:40:36.217 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:40:36.217 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:40:36.218 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:40:36.220 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:40:36.307 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:40:36.307 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:40:36.309 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:40:39.777 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:40:39.777 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:40:39.782 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:40:39.782 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:40:39.784 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:41:04.968 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:41:05.024 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:41:05.025 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:41:05.025 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:41:05.026 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:41:05.027 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:41:05.028 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:41:05.117 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:41:05.118 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:41:05.119 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:41:08.954 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:41:08.955 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:41:08.959 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:41:08.960 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:41:08.960 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:43:25.293 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:43:25.343 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:43:25.344 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:43:25.345 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:43:25.345 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:43:25.345 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:43:25.346 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:43:25.426 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:43:25.426 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:43:25.427 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:43:29.750 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:43:29.751 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:43:29.757 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:43:29.758 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:43:29.758 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:45:33.492 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: What services do you offer your compant...
2025-10-14 14:45:33.493 | INFO     | rag_engine:query:334 - Retrieving top 5 chunks for: What services do you offer your compant...
2025-10-14 14:45:34.017 | INFO     | rag_engine:query:351 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 14:45:34.512 | INFO     | rag_engine:generate_answer:275 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:45:36.971 | ERROR    | rag_engine:generate_answer:288 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:45:36.972 | ERROR    | rag_engine:generate_answer:313 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:45:39.408 | INFO     | rag_engine:generate_answer:275 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:45:41.556 | ERROR    | rag_engine:generate_answer:288 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:45:41.557 | ERROR    | rag_engine:generate_answer:313 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:45:43.981 | INFO     | rag_engine:generate_answer:275 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:45:45.955 | ERROR    | rag_engine:generate_answer:288 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:45:45.956 | ERROR    | rag_engine:generate_answer:313 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:45:45.957 | ERROR    | rag_engine:query:383 - Error in query pipeline: RetryError[<Future at 0x16cc0e3bb10 state=finished raised Exception>]
2025-10-14 14:46:26.393 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: Write a brief intriduction about your company...
2025-10-14 14:46:26.394 | INFO     | rag_engine:query:334 - Retrieving top 5 chunks for: Write a brief intriduction about your company...
2025-10-14 14:46:26.463 | INFO     | rag_engine:query:351 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 14:46:26.880 | INFO     | rag_engine:generate_answer:275 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:46:30.174 | INFO     | rag_engine:generate_answer:296 - Successfully received response from OpenRouter
2025-10-14 14:47:19.372 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: What services do you offer for software development...
2025-10-14 14:47:19.373 | INFO     | rag_engine:query:334 - Retrieving top 5 chunks for: What services do you offer for software development...
2025-10-14 14:47:19.445 | INFO     | rag_engine:query:351 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 14:47:19.886 | INFO     | rag_engine:generate_answer:275 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:47:22.004 | ERROR    | rag_engine:generate_answer:288 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:47:22.005 | ERROR    | rag_engine:generate_answer:313 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:47:24.400 | INFO     | rag_engine:generate_answer:275 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:47:26.203 | ERROR    | rag_engine:generate_answer:288 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:47:26.205 | ERROR    | rag_engine:generate_answer:313 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:47:28.630 | INFO     | rag_engine:generate_answer:275 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:47:30.197 | ERROR    | rag_engine:generate_answer:288 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:47:30.198 | ERROR    | rag_engine:generate_answer:313 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:47:30.199 | ERROR    | rag_engine:query:383 - Error in query pipeline: RetryError[<Future at 0x16cc11989e0 state=finished raised Exception>]
2025-10-14 14:52:56.620 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:52:56.674 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:52:56.675 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:52:56.677 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:52:56.677 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:52:56.679 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:52:56.681 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:52:56.824 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:52:56.824 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:52:56.825 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:53:00.326 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:53:00.327 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:53:00.330 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:53:00.331 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:53:00.333 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:53:59.868 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:53:59.942 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:53:59.942 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:53:59.943 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:53:59.943 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:53:59.944 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:53:59.944 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:54:00.060 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:54:00.061 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:54:00.062 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:54:10.728 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:54:10.729 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:54:10.735 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:54:10.737 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:54:10.738 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:55:46.041 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 14:55:46.096 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 14:55:46.097 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 14:55:46.097 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 14:55:46.098 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 14:55:46.098 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 14:55:46.099 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 14:55:46.179 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 14:55:46.180 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 14:55:46.180 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 14:55:50.005 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 14:55:50.006 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 14:55:50.012 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 14:55:50.013 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 14:55:50.014 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 14:58:31.876 | INFO     | api_openrouter:query_endpoint:133 - Query from 127.0.0.1: What services does Unisoftware offers...
2025-10-14 14:58:31.877 | INFO     | rag_engine:query:333 - Retrieving top 5 chunks for: What services does Unisoftware offers...
2025-10-14 14:58:32.909 | INFO     | rag_engine:query:350 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 14:58:33.435 | INFO     | rag_engine:generate_answer:274 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:58:35.375 | ERROR    | rag_engine:generate_answer:287 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:58:35.376 | ERROR    | rag_engine:generate_answer:312 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:58:37.812 | INFO     | rag_engine:generate_answer:274 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:58:39.395 | ERROR    | rag_engine:generate_answer:287 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:58:39.396 | ERROR    | rag_engine:generate_answer:312 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:58:41.844 | INFO     | rag_engine:generate_answer:274 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 14:58:43.384 | ERROR    | rag_engine:generate_answer:287 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:58:43.385 | ERROR    | rag_engine:generate_answer:312 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 14:58:43.386 | ERROR    | rag_engine:query:382 - Error in query pipeline: RetryError[<Future at 0x2bff6543d90 state=finished raised Exception>]
2025-10-14 15:03:02.905 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:03:02.983 | INFO     | __main__:<module>:286 - ============================================================
2025-10-14 15:03:02.983 | INFO     | __main__:<module>:287 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:03:02.985 | INFO     | __main__:<module>:288 - ============================================================
2025-10-14 15:03:02.986 | INFO     | __main__:<module>:289 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:03:02.988 | INFO     | __main__:<module>:290 - ðŸ”‘ API Key set: Yes
2025-10-14 15:03:02.990 | INFO     | __main__:<module>:291 - ============================================================
2025-10-14 15:03:03.076 | INFO     | api_openrouter:startup_event:68 - Initializing RAG Engine...
2025-10-14 15:03:03.076 | INFO     | api_openrouter:startup_event:73 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:03:03.078 | INFO     | rag_engine:_load_resources:75 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:03:13.429 | INFO     | rag_engine:_load_resources:79 - Loading FAISS index...
2025-10-14 15:03:13.430 | INFO     | rag_engine:_load_resources:83 - Loading metadata...
2025-10-14 15:03:13.434 | INFO     | rag_engine:_load_resources:90 - Loaded 179 document chunks
2025-10-14 15:03:13.434 | INFO     | rag_engine:__init__:61 - âœ… RAG Engine initialized successfully
2025-10-14 15:03:13.436 | INFO     | api_openrouter:startup_event:78 - âœ… RAG Engine initialized successfully
2025-10-14 15:16:35.889 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:16:35.958 | INFO     | __main__:<module>:310 - ============================================================
2025-10-14 15:16:35.958 | INFO     | __main__:<module>:311 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:16:35.960 | INFO     | __main__:<module>:312 - ============================================================
2025-10-14 15:16:35.960 | INFO     | __main__:<module>:313 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:16:35.963 | INFO     | __main__:<module>:314 - ðŸ”‘ API Key set: Yes
2025-10-14 15:16:35.965 | INFO     | __main__:<module>:315 - ============================================================
2025-10-14 15:16:36.048 | INFO     | api_openrouter:<module>:31 - Using Enhanced RAG Engine V2
2025-10-14 15:16:36.064 | INFO     | api_openrouter:startup_event:73 - Initializing RAG Engine...
2025-10-14 15:16:36.064 | INFO     | api_openrouter:startup_event:78 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:16:36.066 | INFO     | rag_engine_v2:_load_resources:106 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:16:39.688 | INFO     | rag_engine_v2:_load_resources:110 - Loading FAISS index...
2025-10-14 15:16:39.691 | INFO     | rag_engine_v2:_load_resources:114 - Loading metadata...
2025-10-14 15:16:39.698 | INFO     | rag_engine_v2:_load_resources:121 - Loaded 179 document chunks
2025-10-14 15:16:39.748 | INFO     | rag_engine_v2:__init__:92 - âœ… Enhanced RAG Engine V2 initialized successfully
2025-10-14 15:16:39.750 | INFO     | api_openrouter:startup_event:83 - âœ… RAG Engine initialized successfully
2025-10-14 15:24:03.580 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:24:03.642 | INFO     | __main__:<module>:358 - ============================================================
2025-10-14 15:24:03.642 | INFO     | __main__:<module>:359 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:24:03.643 | INFO     | __main__:<module>:360 - ============================================================
2025-10-14 15:24:03.644 | INFO     | __main__:<module>:361 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:24:03.645 | INFO     | __main__:<module>:362 - ðŸ”‘ API Key set: Yes
2025-10-14 15:24:03.646 | INFO     | __main__:<module>:363 - ============================================================
2025-10-14 15:24:03.718 | INFO     | api_openrouter:<module>:32 - Using Enhanced RAG Engine V2
2025-10-14 15:24:03.739 | INFO     | api_openrouter:startup_event:78 - Initializing RAG Engine...
2025-10-14 15:24:03.739 | INFO     | api_openrouter:startup_event:83 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:24:03.741 | INFO     | rag_engine_v2:_load_resources:114 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:24:07.149 | INFO     | rag_engine_v2:_load_resources:118 - Loading FAISS index...
2025-10-14 15:24:07.152 | INFO     | rag_engine_v2:_load_resources:122 - Loading metadata...
2025-10-14 15:24:07.158 | INFO     | rag_engine_v2:_load_resources:129 - Loaded 179 document chunks
2025-10-14 15:24:07.212 | INFO     | rag_engine_v2:__init__:100 - âœ… Enhanced RAG Engine V2 initialized successfully
2025-10-14 15:24:07.214 | INFO     | api_openrouter:startup_event:88 - âœ… RAG Engine initialized successfully
2025-10-14 15:34:02.247 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:34:02.305 | INFO     | __main__:<module>:358 - ============================================================
2025-10-14 15:34:02.305 | INFO     | __main__:<module>:359 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:34:02.307 | INFO     | __main__:<module>:360 - ============================================================
2025-10-14 15:34:02.307 | INFO     | __main__:<module>:361 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:34:02.309 | INFO     | __main__:<module>:362 - ðŸ”‘ API Key set: Yes
2025-10-14 15:34:02.311 | INFO     | __main__:<module>:363 - ============================================================
2025-10-14 15:34:02.383 | INFO     | api_openrouter:<module>:32 - Using Enhanced RAG Engine V2
2025-10-14 15:34:02.397 | INFO     | api_openrouter:startup_event:78 - Initializing RAG Engine...
2025-10-14 15:34:02.397 | INFO     | api_openrouter:startup_event:83 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:34:02.400 | INFO     | rag_engine_v2:_load_resources:120 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:34:06.370 | INFO     | rag_engine_v2:_load_resources:124 - Loading FAISS index...
2025-10-14 15:34:06.371 | INFO     | rag_engine_v2:_load_resources:128 - Loading metadata...
2025-10-14 15:34:06.375 | INFO     | rag_engine_v2:_load_resources:135 - Loaded 179 document chunks
2025-10-14 15:34:06.402 | INFO     | rag_engine_v2:__init__:106 - âœ… Enhanced RAG Engine V2 initialized successfully
2025-10-14 15:34:06.403 | INFO     | api_openrouter:startup_event:88 - âœ… RAG Engine initialized successfully
2025-10-14 15:35:02.554 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:35:02.609 | INFO     | __main__:<module>:358 - ============================================================
2025-10-14 15:35:02.610 | INFO     | __main__:<module>:359 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:35:02.610 | INFO     | __main__:<module>:360 - ============================================================
2025-10-14 15:35:02.611 | INFO     | __main__:<module>:361 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:35:02.612 | INFO     | __main__:<module>:362 - ðŸ”‘ API Key set: Yes
2025-10-14 15:35:02.612 | INFO     | __main__:<module>:363 - ============================================================
2025-10-14 15:35:02.677 | INFO     | api_openrouter:<module>:32 - Using Enhanced RAG Engine V2
2025-10-14 15:35:02.698 | INFO     | api_openrouter:startup_event:78 - Initializing RAG Engine...
2025-10-14 15:35:02.698 | INFO     | api_openrouter:startup_event:83 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:35:02.699 | INFO     | rag_engine_v2:_load_resources:120 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:35:13.385 | INFO     | rag_engine_v2:_load_resources:124 - Loading FAISS index...
2025-10-14 15:35:13.386 | INFO     | rag_engine_v2:_load_resources:128 - Loading metadata...
2025-10-14 15:35:13.391 | INFO     | rag_engine_v2:_load_resources:135 - Loaded 179 document chunks
2025-10-14 15:35:13.430 | INFO     | rag_engine_v2:__init__:106 - âœ… Enhanced RAG Engine V2 initialized successfully
2025-10-14 15:35:13.431 | INFO     | api_openrouter:startup_event:88 - âœ… RAG Engine initialized successfully
2025-10-14 15:35:31.840 | ERROR    | api_openrouter:healthcheck:312 - Healthcheck failed: 'RAGEngineV2' object has no attribute 'get_stats'
2025-10-14 15:36:14.181 | ERROR    | api_openrouter:healthcheck:312 - Healthcheck failed: 'RAGEngineV2' object has no attribute 'get_stats'
2025-10-14 15:36:18.306 | INFO     | api_openrouter:query_endpoint:145 - Query from 127.0.0.1: What does services offer your company...
2025-10-14 15:36:18.308 | INFO     | rag_engine_v2:query:313 - Retrieving top 5 chunks for: What does services offer your company...
2025-10-14 15:36:19.745 | INFO     | rag_engine_v2:query:333 - Generating answer using google/gemini-flash-1.5-8b...
2025-10-14 15:36:20.271 | INFO     | rag_engine_v2:generate_answer:240 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-14 15:36:21.890 | ERROR    | rag_engine_v2:generate_answer:257 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:36:21.891 | ERROR    | rag_engine_v2:generate_answer:278 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:36:24.327 | INFO     | rag_engine_v2:generate_answer:240 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-14 15:36:25.032 | ERROR    | rag_engine_v2:generate_answer:257 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:36:25.032 | ERROR    | rag_engine_v2:generate_answer:278 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:36:27.455 | INFO     | rag_engine_v2:generate_answer:240 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-14 15:36:28.290 | ERROR    | rag_engine_v2:generate_answer:257 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:36:28.290 | ERROR    | rag_engine_v2:generate_answer:278 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:36:28.291 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1dcfb65cf50 state=finished raised Exception>]
2025-10-14 15:36:28.343 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine_v2.py", line 258, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine_v2.py", line 335, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1dcfb65cf50 state=finished raised Exception>]

2025-10-14 15:36:28.354 | ERROR    | rag_engine_v2:query:417 - Error in query pipeline: RetryError[<Future at 0x1dcfb65cf50 state=finished raised Exception>]
2025-10-14 15:43:36.883 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:43:36.951 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 15:43:36.951 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:43:36.952 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 15:43:36.952 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:43:36.954 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 15:43:36.955 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 15:43:37.040 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 15:43:37.061 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 15:43:37.061 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:43:37.063 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:43:47.262 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 15:43:47.265 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 15:43:47.271 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 15:43:47.301 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 15:43:47.303 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 15:44:40.628 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:44:40.695 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 15:44:40.696 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:44:40.696 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 15:44:40.697 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:44:40.697 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 15:44:40.698 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 15:44:40.751 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 15:44:40.768 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 15:44:40.769 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:44:40.770 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:44:44.825 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 15:44:44.826 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 15:44:44.830 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 15:44:44.866 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 15:44:44.867 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 15:45:14.331 | ERROR    | api_openrouter:healthcheck:308 - Healthcheck failed: 'RAGEngine' object has no attribute 'get_stats'
2025-10-14 15:45:14.531 | ERROR    | api_openrouter:healthcheck:308 - Healthcheck failed: 'RAGEngine' object has no attribute 'get_stats'
2025-10-14 15:45:22.678 | ERROR    | api_openrouter:healthcheck:308 - Healthcheck failed: 'RAGEngine' object has no attribute 'get_stats'
2025-10-14 15:47:44.648 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:47:44.700 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 15:47:44.700 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:47:44.701 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 15:47:44.701 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:47:44.703 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 15:47:44.704 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 15:47:44.762 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 15:47:44.778 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 15:47:44.778 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:47:44.780 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:47:54.920 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 15:47:54.921 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 15:47:54.925 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 15:47:54.963 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 15:47:54.965 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 15:49:45.990 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:49:46.156 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 15:49:46.162 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:49:46.166 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 15:49:46.176 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:49:46.177 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 15:49:46.178 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 15:49:46.400 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 15:49:46.444 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 15:49:46.445 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:49:46.447 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:49:50.421 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 15:49:50.422 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 15:49:50.428 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 15:49:50.490 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 15:49:50.491 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 15:50:35.989 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: What services do you offer...
2025-10-14 15:50:35.992 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: What services do you offer...
2025-10-14 15:50:37.540 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-flash-1.5-8b...
2025-10-14 15:50:38.194 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-14 15:50:39.731 | ERROR    | rag_engine:generate_answer:265 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:50:39.732 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:50:42.307 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-14 15:50:42.951 | ERROR    | rag_engine:generate_answer:265 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:50:42.952 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:50:45.853 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-14 15:50:46.389 | ERROR    | rag_engine:generate_answer:265 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:50:46.390 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-14 15:50:46.391 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x24bfefb5310 state=finished raised Exception>]
2025-10-14 15:50:46.399 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 266, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 343, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x24bfefb5310 state=finished raised Exception>]

2025-10-14 15:50:46.415 | ERROR    | rag_engine:query:425 - Error in query pipeline: RetryError[<Future at 0x24bfefb5310 state=finished raised Exception>]
2025-10-14 15:54:50.368 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:54:50.438 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 15:54:50.438 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:54:50.439 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 15:54:50.439 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:54:50.442 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 15:54:50.443 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 15:54:50.533 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 15:54:50.547 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 15:54:50.547 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:54:50.551 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:54:54.408 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 15:54:54.413 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 15:54:54.420 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 15:54:54.451 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 15:54:54.453 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 15:56:08.757 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 15:56:08.814 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 15:56:08.814 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 15:56:08.815 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 15:56:08.815 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 15:56:08.816 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 15:56:08.816 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 15:56:08.884 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 15:56:08.900 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 15:56:08.900 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 15:56:08.901 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 15:56:12.348 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 15:56:12.349 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 15:56:12.353 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 15:56:12.381 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 15:56:12.382 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 16:00:20.303 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 16:00:20.358 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 16:00:20.358 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 16:00:20.360 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 16:00:20.360 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 16:00:20.361 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 16:00:20.363 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 16:00:20.428 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 16:00:20.442 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 16:00:20.443 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 16:00:20.444 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 16:00:30.580 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 16:00:30.581 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 16:00:30.584 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 16:00:30.610 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 16:00:30.612 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 16:01:35.052 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-14 16:01:35.103 | INFO     | __main__:<module>:354 - ============================================================
2025-10-14 16:01:35.103 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-14 16:01:35.104 | INFO     | __main__:<module>:356 - ============================================================
2025-10-14 16:01:35.104 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-14 16:01:35.105 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-14 16:01:35.105 | INFO     | __main__:<module>:359 - ============================================================
2025-10-14 16:01:35.164 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-14 16:01:35.180 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-14 16:01:35.180 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-14 16:01:35.182 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-14 16:01:38.775 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-14 16:01:38.819 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-14 16:01:38.836 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-14 16:01:38.911 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-14 16:01:38.913 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-14 16:01:54.843 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: What services do you offer...
2025-10-14 16:01:54.847 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: What services do you offer...
2025-10-14 16:01:56.336 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-14 16:01:56.828 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 16:01:58.927 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 16:01:58.928 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 16:02:01.323 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 16:02:03.499 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-14 16:02:03.500 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-14 16:02:05.908 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-14 16:02:08.104 | INFO     | rag_engine:generate_answer:269 - Successfully received response from OpenRouter
2025-10-15 13:46:01.739 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 13:46:01.860 | INFO     | __main__:<module>:354 - ============================================================
2025-10-15 13:46:01.861 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 13:46:01.862 | INFO     | __main__:<module>:356 - ============================================================
2025-10-15 13:46:01.862 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 13:46:01.863 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-15 13:46:01.863 | INFO     | __main__:<module>:359 - ============================================================
2025-10-15 13:46:02.044 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-15 13:46:02.063 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-15 13:46:02.064 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 13:46:02.065 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-15 13:46:13.297 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-15 13:46:13.315 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-15 13:46:13.348 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-15 13:46:13.389 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 13:46:13.389 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-15 13:48:18.388 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 13:48:18.454 | INFO     | __main__:<module>:354 - ============================================================
2025-10-15 13:48:18.454 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 13:48:18.456 | INFO     | __main__:<module>:356 - ============================================================
2025-10-15 13:48:18.457 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 13:48:18.458 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-15 13:48:18.458 | INFO     | __main__:<module>:359 - ============================================================
2025-10-15 13:48:18.540 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-15 13:48:18.557 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-15 13:48:18.557 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 13:48:18.558 | INFO     | rag_engine:_load_resources:128 - Loading embedding model: all-mpnet-base-v2
2025-10-15 13:48:22.495 | INFO     | rag_engine:_load_resources:132 - Loading FAISS index...
2025-10-15 13:48:22.498 | INFO     | rag_engine:_load_resources:136 - Loading metadata...
2025-10-15 13:48:22.505 | INFO     | rag_engine:_load_resources:143 - Loaded 179 document chunks
2025-10-15 13:48:22.536 | INFO     | rag_engine:__init__:114 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 13:48:22.537 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-15 13:49:53.385 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: How to apply a job for your company,What criteria is to choose a person...
2025-10-15 13:49:53.387 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: How to apply a job for your company,What criteria is to choose a person...
2025-10-15 13:49:54.874 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:49:55.451 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:49:57.428 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:49:57.429 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:49:59.854 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:50:01.723 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:01.724 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:04.193 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:50:05.735 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:05.736 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:05.737 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1947ce56850 state=finished raised Exception>]
2025-10-15 13:50:05.804 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 262, in generate_answer
    raise Exception(error_msg)
Exception: Rate limit exceeded. Please wait a moment and try again

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 343, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1947ce56850 state=finished raised Exception>]

2025-10-15 13:50:05.827 | ERROR    | rag_engine:query:425 - Error in query pipeline: RetryError[<Future at 0x1947ce56850 state=finished raised Exception>]
2025-10-15 13:50:24.900 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: How to apply a job for your company,What criteria is to choose a person...
2025-10-15 13:50:24.902 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: How to apply a job for your company,What criteria is to choose a person...
2025-10-15 13:50:25.002 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:50:25.463 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:50:27.264 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:27.265 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:29.717 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:50:31.210 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:31.211 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:50:33.682 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:50:37.402 | INFO     | rag_engine:generate_answer:269 - Successfully received response from OpenRouter
2025-10-15 13:51:48.568 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: Write a intro about your company and Which services do you offer...
2025-10-15 13:51:48.570 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: Write a intro about your company and Which services do you offer...
2025-10-15 13:51:48.649 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:51:49.122 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:51:51.521 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:51:51.522 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:51:54.029 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:51:55.819 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:51:55.820 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:51:58.343 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:52:00.179 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:52:00.180 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:52:00.181 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1947d44a650 state=finished raised Exception>]
2025-10-15 13:52:00.183 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 262, in generate_answer
    raise Exception(error_msg)
Exception: Rate limit exceeded. Please wait a moment and try again

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 343, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1947d44a650 state=finished raised Exception>]

2025-10-15 13:52:00.194 | ERROR    | rag_engine:query:425 - Error in query pipeline: RetryError[<Future at 0x1947d44a650 state=finished raised Exception>]
2025-10-15 13:52:08.603 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: Write a intro about your company and Which services do you offer...
2025-10-15 13:52:08.604 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: Write a intro about your company and Which services do you offer...
2025-10-15 13:52:08.677 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:52:09.183 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:52:11.299 | INFO     | rag_engine:generate_answer:269 - Successfully received response from OpenRouter
2025-10-15 13:53:11.026 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: Can you give a contact number for your company or email...
2025-10-15 13:53:11.028 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: Can you give a contact number for your company or email...
2025-10-15 13:53:11.102 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:53:11.562 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:53:13.513 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:53:13.515 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:53:15.948 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:53:18.740 | INFO     | rag_engine:generate_answer:269 - Successfully received response from OpenRouter
2025-10-15 13:53:50.937 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: Can you give a phone number ...
2025-10-15 13:53:50.938 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: Can you give a phone number...
2025-10-15 13:53:51.118 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:53:51.605 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:53:53.481 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:53:53.481 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:53:55.999 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:53:58.049 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:53:58.050 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:54:00.482 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:54:02.609 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:54:02.610 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:54:02.611 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1947d43bba0 state=finished raised Exception>]
2025-10-15 13:54:02.614 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 262, in generate_answer
    raise Exception(error_msg)
Exception: Rate limit exceeded. Please wait a moment and try again

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 343, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1947d43bba0 state=finished raised Exception>]

2025-10-15 13:54:02.627 | ERROR    | rag_engine:query:425 - Error in query pipeline: RetryError[<Future at 0x1947d43bba0 state=finished raised Exception>]
2025-10-15 13:54:10.324 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: Can you give a phone number ...
2025-10-15 13:54:10.325 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: Can you give a phone number...
2025-10-15 13:54:10.402 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:54:10.950 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:54:13.263 | INFO     | rag_engine:generate_answer:269 - Successfully received response from OpenRouter
2025-10-15 13:55:42.117 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: What is the comission structure for you sales...
2025-10-15 13:55:42.119 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: What is the comission structure for you sales...
2025-10-15 13:55:42.212 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:55:42.717 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:55:44.763 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:55:44.764 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:55:47.227 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:55:48.652 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:55:48.653 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:55:51.100 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:55:52.440 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:55:52.441 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:55:52.442 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1947d3fac50 state=finished raised Exception>]
2025-10-15 13:55:52.446 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 262, in generate_answer
    raise Exception(error_msg)
Exception: Rate limit exceeded. Please wait a moment and try again

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 343, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1947d3fac50 state=finished raised Exception>]

2025-10-15 13:55:52.455 | ERROR    | rag_engine:query:425 - Error in query pipeline: RetryError[<Future at 0x1947d3fac50 state=finished raised Exception>]
2025-10-15 13:56:00.575 | INFO     | api_openrouter:query_endpoint:141 - Query from 127.0.0.1: What is the comission structure for you sales...
2025-10-15 13:56:00.576 | INFO     | rag_engine:query:321 - Retrieving top 5 chunks for: What is the comission structure for you sales...
2025-10-15 13:56:00.642 | INFO     | rag_engine:query:341 - Generating answer using google/gemini-2.0-flash-exp:free...
2025-10-15 13:56:01.109 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:56:02.921 | ERROR    | rag_engine:generate_answer:261 - Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:56:02.922 | ERROR    | rag_engine:generate_answer:286 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-10-15 13:56:05.374 | INFO     | rag_engine:generate_answer:248 - Calling OpenRouter API with model: google/gemini-2.0-flash-exp:free
2025-10-15 13:56:09.475 | INFO     | rag_engine:generate_answer:269 - Successfully received response from OpenRouter
2025-10-15 14:04:23.719 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 14:04:23.844 | INFO     | __main__:<module>:354 - ============================================================
2025-10-15 14:04:23.844 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 14:04:23.845 | INFO     | __main__:<module>:356 - ============================================================
2025-10-15 14:04:23.846 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 14:04:23.847 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-15 14:04:23.848 | INFO     | __main__:<module>:359 - ============================================================
2025-10-15 14:04:23.924 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-15 14:04:23.948 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-15 14:04:23.948 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 14:04:23.950 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 14:04:34.104 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 14:04:34.111 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 14:04:34.118 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 14:04:34.148 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 14:04:34.149 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-15 14:26:23.823 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 14:26:23.880 | INFO     | __main__:<module>:354 - ============================================================
2025-10-15 14:26:23.880 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 14:26:23.883 | INFO     | __main__:<module>:356 - ============================================================
2025-10-15 14:26:23.883 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 14:26:23.885 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-15 14:26:23.887 | INFO     | __main__:<module>:359 - ============================================================
2025-10-15 14:26:23.974 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-15 14:26:23.991 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-15 14:26:23.991 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 14:26:23.992 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 14:26:27.944 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 14:26:27.946 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 14:26:27.952 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 14:26:27.981 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 14:26:27.983 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-15 14:28:38.991 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 14:28:39.054 | INFO     | __main__:<module>:354 - ============================================================
2025-10-15 14:28:39.054 | INFO     | __main__:<module>:355 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 14:28:39.056 | INFO     | __main__:<module>:356 - ============================================================
2025-10-15 14:28:39.056 | INFO     | __main__:<module>:357 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 14:28:39.057 | INFO     | __main__:<module>:358 - ðŸ”‘ API Key set: Yes
2025-10-15 14:28:39.059 | INFO     | __main__:<module>:359 - ============================================================
2025-10-15 14:28:39.116 | INFO     | api_openrouter:<module>:34 - Using Enhanced RAG Engine with all optimizations
2025-10-15 14:28:39.132 | INFO     | api_openrouter:startup_event:74 - Initializing RAG Engine...
2025-10-15 14:28:39.132 | INFO     | api_openrouter:startup_event:79 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 14:28:39.134 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 14:28:42.843 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 14:28:42.844 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 14:28:42.848 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 14:28:42.893 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 14:28:42.895 | INFO     | api_openrouter:startup_event:84 - âœ… RAG Engine initialized successfully
2025-10-15 14:39:14.708 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 14:39:14.761 | INFO     | __main__:<module>:510 - ============================================================
2025-10-15 14:39:14.761 | INFO     | __main__:<module>:511 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 14:39:14.763 | INFO     | __main__:<module>:512 - ============================================================
2025-10-15 14:39:14.763 | INFO     | __main__:<module>:513 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 14:39:14.764 | INFO     | __main__:<module>:514 - ðŸ”‘ API Key set: Yes
2025-10-15 14:39:14.766 | INFO     | __main__:<module>:515 - ============================================================
2025-10-15 14:39:14.843 | INFO     | api_openrouter:<module>:36 - Using Enhanced RAG Engine with all optimizations
2025-10-15 14:39:14.868 | INFO     | api_openrouter:startup_event:79 - Initializing RAG Engine...
2025-10-15 14:39:14.868 | INFO     | api_openrouter:startup_event:84 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 14:39:14.871 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 14:39:24.849 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 14:39:24.850 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 14:39:24.854 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 14:39:24.885 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 14:39:24.887 | INFO     | api_openrouter:startup_event:89 - âœ… RAG Engine initialized successfully
2025-10-15 14:44:30.680 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 14:44:30.753 | INFO     | __main__:<module>:569 - ============================================================
2025-10-15 14:44:30.753 | INFO     | __main__:<module>:570 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 14:44:30.754 | INFO     | __main__:<module>:571 - ============================================================
2025-10-15 14:44:30.755 | INFO     | __main__:<module>:572 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 14:44:30.756 | INFO     | __main__:<module>:573 - ðŸ”‘ API Key set: Yes
2025-10-15 14:44:30.757 | INFO     | __main__:<module>:574 - ============================================================
2025-10-15 14:44:30.828 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-15 14:44:30.829 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-15.jsonl
2025-10-15 14:44:30.853 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-15 14:44:30.853 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 14:44:30.856 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 14:44:41.046 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 14:44:41.046 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 14:44:41.050 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 14:44:41.078 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 14:44:41.080 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-15 14:49:37.183 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 14:49:37.256 | INFO     | __main__:<module>:597 - ============================================================
2025-10-15 14:49:37.256 | INFO     | __main__:<module>:598 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 14:49:37.257 | INFO     | __main__:<module>:599 - ============================================================
2025-10-15 14:49:37.257 | INFO     | __main__:<module>:600 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 14:49:37.259 | INFO     | __main__:<module>:601 - ðŸ”‘ API Key set: Yes
2025-10-15 14:49:37.261 | INFO     | __main__:<module>:602 - ============================================================
2025-10-15 14:49:37.329 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-15 14:49:37.330 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-15.jsonl
2025-10-15 14:49:37.378 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-15 14:49:37.379 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 14:49:37.381 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 14:49:41.229 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 14:49:41.230 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 14:49:41.235 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 14:49:41.276 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 14:49:41.278 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-15 14:56:19.660 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 14:56:19.735 | INFO     | __main__:<module>:597 - ============================================================
2025-10-15 14:56:19.736 | INFO     | __main__:<module>:598 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 14:56:19.737 | INFO     | __main__:<module>:599 - ============================================================
2025-10-15 14:56:19.738 | INFO     | __main__:<module>:600 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 14:56:19.739 | INFO     | __main__:<module>:601 - ðŸ”‘ API Key set: Yes
2025-10-15 14:56:19.740 | INFO     | __main__:<module>:602 - ============================================================
2025-10-15 14:56:19.802 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-15 14:56:19.803 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-15.jsonl
2025-10-15 14:56:19.828 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-15 14:56:19.828 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 14:56:19.830 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 14:56:30.052 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 14:56:30.052 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 14:56:30.056 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 14:56:30.083 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 14:56:30.085 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-15 15:04:12.272 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 15:04:12.368 | INFO     | __main__:<module>:597 - ============================================================
2025-10-15 15:04:12.369 | INFO     | __main__:<module>:598 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 15:04:12.370 | INFO     | __main__:<module>:599 - ============================================================
2025-10-15 15:04:12.371 | INFO     | __main__:<module>:600 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 15:04:12.371 | INFO     | __main__:<module>:601 - ðŸ”‘ API Key set: Yes
2025-10-15 15:04:12.372 | INFO     | __main__:<module>:602 - ============================================================
2025-10-15 15:04:12.467 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-15 15:04:12.469 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-15.jsonl
2025-10-15 15:04:12.499 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-15 15:04:12.500 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 15:04:12.501 | INFO     | rag_engine:_load_resources:129 - Loading embedding model: all-mpnet-base-v2
2025-10-15 15:04:16.367 | INFO     | rag_engine:_load_resources:133 - Loading FAISS index...
2025-10-15 15:04:16.379 | INFO     | rag_engine:_load_resources:137 - Loading metadata...
2025-10-15 15:04:16.421 | INFO     | rag_engine:_load_resources:144 - Loaded 179 document chunks
2025-10-15 15:04:16.465 | INFO     | rag_engine:__init__:115 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 15:04:16.466 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-15 15:31:23.145 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 15:31:23.254 | INFO     | __main__:<module>:598 - ============================================================
2025-10-15 15:31:23.254 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 15:31:23.255 | INFO     | __main__:<module>:600 - ============================================================
2025-10-15 15:31:23.256 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 15:31:23.257 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-15 15:31:23.258 | INFO     | __main__:<module>:603 - ============================================================
2025-10-15 15:31:23.356 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-15 15:31:23.357 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-15.jsonl
2025-10-15 15:31:23.397 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-15 15:31:23.397 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 15:31:23.399 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-15 15:31:34.384 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-15 15:32:09.973 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-15 15:32:09.976 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-15 15:32:09.984 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-15 15:32:16.539 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 15:32:16.541 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-15 15:32:40.370 | INFO     | api_openrouter:query_endpoint:163 - Query from Regular User (127.0.0.1): What services does you offer your company...
2025-10-15 15:32:40.391 | INFO     | rag_engine:query:422 - Retrieving top 5 chunks for: What services does you offer your company...
2025-10-15 15:32:42.199 | INFO     | rag_engine:query:440 - Retrieval confidence: 0.815 (threshold: 0.22)
2025-10-15 15:32:42.201 | INFO     | rag_engine:query:458 - Generating answer using google/gemini-pro-1.5...
2025-10-15 15:32:43.551 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:32:44.632 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:32:44.633 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:32:49.219 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:32:49.871 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:32:49.872 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:32:54.422 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:32:55.334 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:32:55.334 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:32:55.335 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x298c26b2210 state=finished raised Exception>]
2025-10-15 15:32:55.359 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 361, in generate_answer
    logger.error(error_msg)
    ~~~~~~~~~~~~^^^^^^^^^^^
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 460, in query
        "confidence_score": avg_score
                    ^^^^^^^^^^^^^^^^^
    }
    ^
    
    
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x298c26b2210 state=finished raised Exception>]

2025-10-15 15:32:55.368 | ERROR    | rag_engine:query:547 - Error in query pipeline: RetryError[<Future at 0x298c26b2210 state=finished raised Exception>]
2025-10-15 15:33:04.300 | INFO     | api_openrouter:query_endpoint:163 - Query from Regular User (127.0.0.1): What services does you offer your company...
2025-10-15 15:33:04.301 | INFO     | rag_engine:query:422 - Retrieving top 5 chunks for: What services does you offer your company...
2025-10-15 15:33:04.366 | INFO     | rag_engine:query:440 - Retrieval confidence: 0.815 (threshold: 0.22)
2025-10-15 15:33:04.366 | INFO     | rag_engine:query:458 - Generating answer using google/gemini-pro-1.5...
2025-10-15 15:33:04.884 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:33:05.573 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:33:05.573 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:33:10.175 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:33:11.232 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:33:11.232 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:33:15.852 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:33:16.574 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:33:16.575 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:33:16.575 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x298c26c1c70 state=finished raised Exception>]
2025-10-15 15:33:16.577 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 361, in generate_answer
    logger.error(error_msg)
    ~~~~~~~~~~~~^^^^^^^^^^^
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 460, in query
        "confidence_score": avg_score
                    ^^^^^^^^^^^^^^^^^
    }
    ^
    
    
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x298c26c1c70 state=finished raised Exception>]

2025-10-15 15:33:16.587 | ERROR    | rag_engine:query:547 - Error in query pipeline: RetryError[<Future at 0x298c26c1c70 state=finished raised Exception>]
2025-10-15 15:41:30.818 | INFO     | api_openrouter:query_endpoint:163 - Query from Regular User (127.0.0.1): What you services offer your company
...
2025-10-15 15:41:30.819 | INFO     | rag_engine:query:422 - Retrieving top 5 chunks for: What you services offer your company...
2025-10-15 15:41:30.896 | INFO     | rag_engine:query:440 - Retrieval confidence: 0.821 (threshold: 0.22)
2025-10-15 15:41:30.899 | INFO     | rag_engine:query:458 - Generating answer using google/gemini-pro-1.5...
2025-10-15 15:41:31.408 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:41:32.395 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:41:32.395 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:41:36.903 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:41:37.919 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:41:37.920 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:41:42.451 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:41:43.177 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:41:43.178 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:41:43.179 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x298c26e1050 state=finished raised Exception>]
2025-10-15 15:41:43.184 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 361, in generate_answer
    logger.error(error_msg)
    ~~~~~~~~~~~~^^^^^^^^^^^
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 460, in query
        "confidence_score": avg_score
                    ^^^^^^^^^^^^^^^^^
    }
    ^
    
    
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x298c26e1050 state=finished raised Exception>]

2025-10-15 15:41:43.193 | ERROR    | rag_engine:query:547 - Error in query pipeline: RetryError[<Future at 0x298c26e1050 state=finished raised Exception>]
2025-10-15 15:56:21.445 | INFO     | api_openrouter:query_endpoint:163 - Query from Regular User (127.0.0.1): What is the leave policy...
2025-10-15 15:56:21.447 | INFO     | rag_engine:query:422 - Retrieving top 5 chunks for: What is the leave policy...
2025-10-15 15:56:21.556 | INFO     | rag_engine:query:440 - Retrieval confidence: 0.899 (threshold: 0.22)
2025-10-15 15:56:21.563 | INFO     | rag_engine:query:458 - Generating answer using google/gemini-pro-1.5...
2025-10-15 15:56:22.102 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:56:23.344 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:56:23.345 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:56:27.867 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:56:28.695 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:56:28.696 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:56:33.226 | INFO     | rag_engine:generate_answer:343 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 15:56:33.839 | ERROR    | rag_engine:generate_answer:360 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:56:33.840 | ERROR    | rag_engine:generate_answer:387 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 15:56:33.841 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x298c2d29c70 state=finished raised Exception>]
2025-10-15 15:56:33.843 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 361, in generate_answer
    logger.error(error_msg)
    ~~~~~~~~~~~~^^^^^^^^^^^
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 460, in query
        "confidence_score": avg_score
                    ^^^^^^^^^^^^^^^^^
    }
    ^
    
    
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x298c2d29c70 state=finished raised Exception>]

2025-10-15 15:56:33.851 | ERROR    | rag_engine:query:547 - Error in query pipeline: RetryError[<Future at 0x298c2d29c70 state=finished raised Exception>]
2025-10-15 22:10:12.486 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-15 22:10:12.606 | INFO     | __main__:<module>:598 - ============================================================
2025-10-15 22:10:12.606 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-15 22:10:12.607 | INFO     | __main__:<module>:600 - ============================================================
2025-10-15 22:10:12.607 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-15 22:10:12.608 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-15 22:10:12.609 | INFO     | __main__:<module>:603 - ============================================================
2025-10-15 22:10:12.710 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-15 22:10:12.711 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-15.jsonl
2025-10-15 22:10:12.747 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-15 22:10:12.748 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-15 22:10:12.749 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-15 22:10:16.650 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-15 22:10:19.880 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-15 22:10:19.886 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-15 22:10:19.894 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-15 22:10:22.685 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-15 22:10:22.686 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-15 22:13:13.989 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave today
...
2025-10-15 22:13:13.991 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave today...
2025-10-15 22:13:17.390 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.821 (threshold: 0.22)
2025-10-15 22:13:17.392 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-15 22:13:17.888 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 22:13:19.622 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 22:13:19.623 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 22:13:24.064 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 22:13:25.433 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 22:13:25.434 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 22:13:29.832 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-15 22:13:31.238 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 22:13:31.239 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-15 22:13:31.240 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2a6ff740cd0 state=finished raised Exception>]
2025-10-15 22:13:31.248 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2a6ff740cd0 state=finished raised Exception>]

2025-10-15 22:13:31.274 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2a6ff740cd0 state=finished raised Exception>]
2025-10-16 13:32:33.073 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 13:32:33.322 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 13:32:33.323 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 13:32:33.325 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 13:32:33.326 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 13:32:33.328 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 13:32:33.330 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 13:32:33.526 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 13:32:33.527 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 13:32:33.562 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 13:32:33.562 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 13:32:33.566 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 13:32:38.909 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 13:32:41.975 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 13:32:41.987 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 13:32:42.025 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 13:32:45.541 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 13:32:45.547 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 13:32:47.170 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What are the remote work rules?...
2025-10-16 13:32:47.170 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What are the remote work rules?...
2025-10-16 13:32:51.538 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.773 (threshold: 0.22)
2025-10-16 13:32:51.539 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-16 13:32:52.115 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 13:32:53.874 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 13:32:53.875 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 13:32:58.347 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 13:32:59.708 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 13:32:59.708 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 13:33:04.183 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 13:33:05.074 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 13:33:05.075 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 13:33:05.075 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1c059cf4910 state=finished raised Exception>]
2025-10-16 13:33:05.137 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1c059cf4910 state=finished raised Exception>]

2025-10-16 13:33:05.157 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x1c059cf4910 state=finished raised Exception>]
2025-10-16 13:46:45.179 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 13:46:45.263 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 13:46:45.264 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 13:46:45.264 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 13:46:45.265 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 13:46:45.265 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 13:46:45.266 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 13:46:45.369 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 13:46:45.371 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 13:46:45.409 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 13:46:45.410 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 13:46:45.412 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 13:46:49.578 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 13:46:53.203 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 13:46:53.208 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 13:46:53.220 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 13:46:56.376 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 13:46:56.377 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 13:49:12.094 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 13:49:12.188 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 13:49:12.188 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 13:49:12.190 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 13:49:12.190 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 13:49:12.191 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 13:49:12.193 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 13:49:12.293 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 13:49:12.294 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 13:49:12.329 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 13:49:12.329 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 13:49:12.331 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 13:49:17.029 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 13:49:20.185 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 13:49:20.191 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 13:49:20.204 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 13:49:23.475 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 13:49:23.477 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 13:55:06.186 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 13:55:06.283 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 13:55:06.284 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 13:55:06.285 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 13:55:06.285 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 13:55:06.286 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 13:55:06.286 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 13:55:06.386 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 13:55:06.387 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 13:55:06.419 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 13:55:06.420 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 13:55:06.421 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 13:55:10.503 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 13:55:13.547 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 13:55:13.554 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 13:55:13.568 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 13:55:16.643 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 13:55:16.645 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:01:12.360 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 14:01:12.468 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 14:01:12.468 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 14:01:12.469 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 14:01:12.470 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 14:01:12.471 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 14:01:12.472 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 14:01:12.563 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 14:01:12.563 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 14:01:12.599 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 14:01:12.599 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 14:01:12.601 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 14:01:16.974 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 14:01:19.819 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 14:01:19.826 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 14:01:19.835 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 14:01:22.682 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 14:01:22.683 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:03:27.314 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy...
2025-10-16 14:03:27.314 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-10-16 14:03:31.638 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-10-16 14:03:31.639 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-16 14:03:32.378 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:03:33.872 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:03:33.872 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:03:38.302 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:03:38.976 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:03:38.976 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:03:43.470 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:03:44.245 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:03:44.245 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:03:44.246 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2dc3b9c8cd0 state=finished raised Exception>]
2025-10-16 14:03:44.254 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2dc3b9c8cd0 state=finished raised Exception>]

2025-10-16 14:03:44.267 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2dc3b9c8cd0 state=finished raised Exception>]
2025-10-16 14:04:46.876 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave today...
2025-10-16 14:04:46.880 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave today...
2025-10-16 14:04:48.790 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.821 (threshold: 0.22)
2025-10-16 14:04:48.792 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-16 14:04:49.245 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:04:50.475 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:04:50.475 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:04:54.941 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:04:56.113 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:04:56.113 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:05:00.533 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:05:01.706 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:05:01.706 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:05:01.706 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2dc3b9e9fd0 state=finished raised Exception>]
2025-10-16 14:05:01.708 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2dc3b9e9fd0 state=finished raised Exception>]

2025-10-16 14:05:01.720 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2dc3b9e9fd0 state=finished raised Exception>]
2025-10-16 14:23:35.759 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 14:23:36.006 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 14:23:36.028 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 14:23:36.041 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 14:23:36.057 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 14:23:36.069 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 14:23:36.080 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 14:23:36.280 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 14:23:36.282 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 14:23:36.361 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 14:23:36.362 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 14:23:36.370 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 14:23:47.228 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 14:23:53.964 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 14:23:53.976 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 14:23:54.019 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 14:24:00.837 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 14:24:00.840 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:24:03.466 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy
...
2025-10-16 14:24:03.476 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-10-16 14:24:10.006 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-10-16 14:24:10.008 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-16 14:24:11.025 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:24:12.651 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:24:12.671 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:24:17.420 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:24:18.117 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:24:18.121 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:24:22.852 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:24:23.863 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:24:23.864 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:24:23.865 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x29fff376e90 state=finished raised Exception>]
2025-10-16 14:24:23.872 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x29fff376e90 state=finished raised Exception>]

2025-10-16 14:24:23.888 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x29fff376e90 state=finished raised Exception>]
2025-10-16 14:24:59.795 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy...
2025-10-16 14:24:59.796 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-10-16 14:25:02.061 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-10-16 14:25:02.063 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-16 14:25:02.549 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:25:03.870 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:25:03.871 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:25:08.318 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:25:09.233 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:25:09.234 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:25:13.690 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:25:14.341 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:25:14.343 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:25:14.344 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x29fff3f3ad0 state=finished raised Exception>]
2025-10-16 14:25:14.348 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x29fff3f3ad0 state=finished raised Exception>]

2025-10-16 14:25:14.362 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x29fff3f3ad0 state=finished raised Exception>]
2025-10-16 14:29:08.751 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 14:29:08.883 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 14:29:08.883 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 14:29:08.885 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 14:29:08.885 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 14:29:08.888 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 14:29:08.890 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 14:29:09.025 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 14:29:09.026 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 14:29:09.070 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 14:29:09.070 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 14:29:09.073 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 14:29:12.969 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 14:29:16.524 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 14:29:16.539 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 14:29:16.577 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 14:29:19.400 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 14:29:19.403 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:31:29.082 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy
...
2025-10-16 14:31:29.083 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-10-16 14:31:31.223 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-10-16 14:31:31.224 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-16 14:31:31.777 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:31:32.868 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:31:32.868 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:31:37.384 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:31:38.411 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:31:38.411 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:31:42.910 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:31:43.572 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:31:43.573 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:31:43.573 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x213c9108cd0 state=finished raised Exception>]
2025-10-16 14:31:43.577 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x213c9108cd0 state=finished raised Exception>]

2025-10-16 14:31:43.587 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x213c9108cd0 state=finished raised Exception>]
2025-10-16 14:41:40.276 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy?...
2025-10-16 14:41:40.276 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy?...
2025-10-16 14:41:42.297 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.801 (threshold: 0.22)
2025-10-16 14:41:42.298 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-pro-1.5...
2025-10-16 14:41:42.751 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:41:43.919 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:41:43.919 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:41:48.363 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:41:49.149 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:41:49.149 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:41:53.579 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-pro-1.5
2025-10-16 14:41:54.825 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:41:54.826 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:41:54.826 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x213c91256d0 state=finished raised Exception>]
2025-10-16 14:41:54.828 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-pro-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x213c91256d0 state=finished raised Exception>]

2025-10-16 14:41:54.839 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x213c91256d0 state=finished raised Exception>]
2025-10-16 14:43:51.686 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 14:43:51.779 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 14:43:51.779 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 14:43:51.781 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 14:43:51.781 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 14:43:51.783 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 14:43:51.785 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 14:43:51.869 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 14:43:51.870 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 14:43:51.917 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 14:43:51.917 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 14:43:51.920 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 14:44:02.220 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 14:44:08.678 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 14:44:08.679 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 14:44:08.682 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 14:44:15.154 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 14:44:15.156 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:44:26.015 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy?...
2025-10-16 14:44:26.015 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy?...
2025-10-16 14:44:28.109 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.801 (threshold: 0.22)
2025-10-16 14:44:28.110 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-flash-1.5...
2025-10-16 14:44:28.624 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5
2025-10-16 14:44:30.174 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:44:30.174 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:44:34.608 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5
2025-10-16 14:44:35.750 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:44:35.750 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:44:40.178 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5
2025-10-16 14:44:40.882 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:44:40.882 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:44:40.883 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2b24634f890 state=finished raised Exception>]
2025-10-16 14:44:40.887 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2b24634f890 state=finished raised Exception>]

2025-10-16 14:44:40.898 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2b24634f890 state=finished raised Exception>]
2025-10-16 14:46:28.598 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 14:46:28.679 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 14:46:28.680 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 14:46:28.682 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 14:46:28.682 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 14:46:28.684 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 14:46:28.686 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 14:46:28.755 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 14:46:28.756 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 14:46:28.786 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 14:46:28.786 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 14:46:28.788 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 14:46:38.944 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 14:46:45.292 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 14:46:45.292 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 14:46:45.296 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 14:46:51.600 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 14:46:51.602 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:47:01.297 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy?...
2025-10-16 14:47:01.297 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy?...
2025-10-16 14:47:04.944 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.801 (threshold: 0.22)
2025-10-16 14:47:04.945 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.1-8b-instruct:free...
2025-10-16 14:47:05.888 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.1-8b-instruct:free
2025-10-16 14:47:07.401 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:47:07.402 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:47:12.106 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.1-8b-instruct:free
2025-10-16 14:47:12.872 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:47:12.872 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:47:17.556 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.1-8b-instruct:free
2025-10-16 14:47:18.705 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:47:18.705 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:47:18.706 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1e448ca3890 state=finished raised Exception>]
2025-10-16 14:47:18.709 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1e448ca3890 state=finished raised Exception>]

2025-10-16 14:47:18.719 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x1e448ca3890 state=finished raised Exception>]
2025-10-16 14:51:49.111 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 14:51:49.270 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 14:51:49.270 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 14:51:49.273 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 14:51:49.273 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 14:51:49.276 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 14:51:49.278 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 14:51:49.469 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 14:51:49.470 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 14:51:49.511 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 14:51:49.512 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 14:51:49.514 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 14:52:00.224 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 14:52:07.241 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 14:52:07.258 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 14:52:07.301 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 14:52:13.805 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 14:52:13.808 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:52:26.686 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-16 14:52:26.770 | INFO     | __main__:<module>:598 - ============================================================
2025-10-16 14:52:26.771 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-16 14:52:26.772 | INFO     | __main__:<module>:600 - ============================================================
2025-10-16 14:52:26.772 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-16 14:52:26.773 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-16 14:52:26.774 | INFO     | __main__:<module>:603 - ============================================================
2025-10-16 14:52:26.864 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-16 14:52:26.865 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-16.jsonl
2025-10-16 14:52:26.904 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-16 14:52:26.904 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-16 14:52:26.906 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-16 14:52:37.400 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-16 14:52:44.120 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-16 14:52:44.121 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-16 14:52:44.125 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-16 14:52:50.796 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-16 14:52:50.797 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-16 14:52:56.570 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy
...
2025-10-16 14:52:56.571 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-10-16 14:52:58.567 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-10-16 14:52:58.568 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-flash-1.5-8b...
2025-10-16 14:52:59.071 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-16 14:53:00.393 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:53:00.394 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:53:04.822 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-16 14:53:05.601 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:53:05.602 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:53:10.035 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5-8b
2025-10-16 14:53:11.010 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:53:11.010 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-16 14:53:11.010 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x193c7478cd0 state=finished raised Exception>]
2025-10-16 14:53:11.034 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5-8b.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x193c7478cd0 state=finished raised Exception>]

2025-10-16 14:53:11.043 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x193c7478cd0 state=finished raised Exception>]
2025-10-17 13:16:06.778 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-17 13:16:07.029 | INFO     | __main__:<module>:598 - ============================================================
2025-10-17 13:16:07.029 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-17 13:16:07.031 | INFO     | __main__:<module>:600 - ============================================================
2025-10-17 13:16:07.031 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-17 13:16:07.034 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-17 13:16:07.035 | INFO     | __main__:<module>:603 - ============================================================
2025-10-17 13:16:07.298 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-17 13:16:07.299 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-17.jsonl
2025-10-17 13:16:07.356 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-17 13:16:07.356 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-17 13:16:07.359 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-17 13:16:07.851 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-17 13:16:07.950 | INFO     | __main__:<module>:598 - ============================================================
2025-10-17 13:16:07.950 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-17 13:16:07.952 | INFO     | __main__:<module>:600 - ============================================================
2025-10-17 13:16:07.952 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-17 13:16:07.956 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-17 13:16:07.960 | INFO     | __main__:<module>:603 - ============================================================
2025-10-17 13:16:08.032 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-17 13:16:08.034 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-17.jsonl
2025-10-17 13:16:08.084 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-17 13:16:08.085 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-17 13:16:08.087 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-17 13:16:12.001 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-17 13:16:12.378 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-17 13:16:15.246 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-17 13:16:15.259 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-17 13:16:15.298 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-17 13:16:15.487 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-17 13:16:15.488 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-17 13:16:15.494 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-17 13:16:18.406 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-17 13:16:18.409 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-17 13:16:18.709 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-17 13:16:18.712 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-17 13:59:18.591 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-17 13:59:18.719 | INFO     | __main__:<module>:598 - ============================================================
2025-10-17 13:59:18.719 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-17 13:59:18.721 | INFO     | __main__:<module>:600 - ============================================================
2025-10-17 13:59:18.722 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-17 13:59:18.724 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-17 13:59:18.726 | INFO     | __main__:<module>:603 - ============================================================
2025-10-17 13:59:18.845 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-17 13:59:18.846 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-17.jsonl
2025-10-17 13:59:18.896 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-17 13:59:18.896 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-17 13:59:18.900 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-17 13:59:23.673 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-17 13:59:27.247 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-17 13:59:27.250 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-17 13:59:27.257 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-17 13:59:30.739 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-17 13:59:30.743 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-17 14:00:27.569 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy?...
2025-10-17 14:00:27.571 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy?...
2025-10-17 14:00:31.393 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.801 (threshold: 0.22)
2025-10-17 14:00:31.394 | INFO     | rag_engine:query:467 - Generating answer using google/gemini-flash-1.5...
2025-10-17 14:00:31.924 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5
2025-10-17 14:00:33.197 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-17 14:00:33.197 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-17 14:00:37.646 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5
2025-10-17 14:00:38.373 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-17 14:00:38.374 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-17 14:00:42.786 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: google/gemini-flash-1.5
2025-10-17 14:00:43.840 | ERROR    | rag_engine:generate_answer:369 - OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-17 14:00:43.840 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}
2025-10-17 14:00:43.840 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2e959ef4b90 state=finished raised Exception>]
2025-10-17 14:00:43.942 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 370, in generate_answer
    raise Exception(error_detail)
Exception: OpenRouter API error: 404 - {"error":{"message":"No endpoints found for google/gemini-flash-1.5.","code":404},"user_id":"user_33xpnymzErOVodKAFpuaJ0M7M4H"}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2e959ef4b90 state=finished raised Exception>]

2025-10-17 14:00:43.954 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2e959ef4b90 state=finished raised Exception>]
2025-10-17 14:01:14.132 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy?...
2025-10-17 14:01:14.133 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy?...
2025-10-17 14:01:17.064 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.801 (threshold: 0.22)
2025-10-17 14:01:17.064 | INFO     | rag_engine:query:467 - Generating answer using openai/gpt-3.5-turbo...
2025-10-17 14:01:17.719 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: openai/gpt-3.5-turbo
2025-10-17 14:01:20.914 | INFO     | rag_engine:generate_answer:373 - Successfully received response from OpenRouter
2025-10-17 14:03:00.656 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-17 14:03:00.735 | INFO     | __main__:<module>:598 - ============================================================
2025-10-17 14:03:00.735 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-17 14:03:00.737 | INFO     | __main__:<module>:600 - ============================================================
2025-10-17 14:03:00.737 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-17 14:03:00.740 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-17 14:03:00.742 | INFO     | __main__:<module>:603 - ============================================================
2025-10-17 14:03:00.813 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-17 14:03:00.814 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-17.jsonl
2025-10-17 14:03:00.853 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-17 14:03:00.853 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-17 14:03:00.856 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-17 14:03:05.366 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-17 14:03:08.734 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-17 14:03:08.736 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-17 14:03:08.746 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-17 14:03:12.128 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-17 14:03:12.132 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-17 14:03:20.821 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy?...
2025-10-17 14:03:20.823 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy?...
2025-10-17 14:03:22.822 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.801 (threshold: 0.22)
2025-10-17 14:03:22.823 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-17 14:03:23.308 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-17 14:03:32.083 | INFO     | rag_engine:generate_answer:373 - Successfully received response from OpenRouter
2025-10-17 14:04:22.465 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy...
2025-10-17 14:04:22.467 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-10-17 14:04:24.997 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-10-17 14:04:24.998 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-17 14:04:25.677 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-17 14:04:37.417 | INFO     | rag_engine:generate_answer:373 - Successfully received response from OpenRouter
2025-10-17 14:07:08.923 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): how much price for Website develop...
2025-10-17 14:07:08.925 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: how much price for Website develop...
2025-10-17 14:07:11.528 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.865 (threshold: 0.22)
2025-10-17 14:07:11.529 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-17 14:07:12.258 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-17 14:07:19.032 | INFO     | rag_engine:generate_answer:373 - Successfully received response from OpenRouter
2025-10-20 15:54:20.600 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-20 15:54:20.804 | INFO     | __main__:<module>:598 - ============================================================
2025-10-20 15:54:20.805 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-20 15:54:20.806 | INFO     | __main__:<module>:600 - ============================================================
2025-10-20 15:54:20.807 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-20 15:54:20.808 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-20 15:54:20.808 | INFO     | __main__:<module>:603 - ============================================================
2025-10-20 15:54:21.087 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-20 15:54:21.091 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-20.jsonl
2025-10-20 15:54:21.344 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-20 15:54:21.347 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-20 15:54:21.349 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-20 15:56:58.186 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-10-20 15:56:58.277 | INFO     | __main__:<module>:598 - ============================================================
2025-10-20 15:56:58.277 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-10-20 15:56:58.278 | INFO     | __main__:<module>:600 - ============================================================
2025-10-20 15:56:58.278 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-10-20 15:56:58.279 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-10-20 15:56:58.279 | INFO     | __main__:<module>:603 - ============================================================
2025-10-20 15:56:58.366 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-10-20 15:56:58.367 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-10-20.jsonl
2025-10-20 15:56:58.404 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-10-20 15:56:58.405 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-10-20 15:56:58.406 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-10-20 15:57:03.535 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-10-20 15:57:07.317 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-10-20 15:57:07.326 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-10-20 15:57:07.342 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-10-20 15:57:10.515 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-10-20 15:57:10.516 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-10-20 15:59:43.539 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the commission structure for your sales ...
2025-10-20 15:59:43.541 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the commission structure for your sales...
2025-10-20 15:59:48.779 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.881 (threshold: 0.22)
2025-10-20 15:59:48.780 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-20 15:59:49.589 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-20 16:00:01.599 | INFO     | rag_engine:generate_answer:373 - Successfully received response from OpenRouter
2025-10-20 16:06:18.942 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the comission structure for you sales...
2025-10-20 16:06:18.945 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the comission structure for you sales...
2025-10-20 16:06:22.150 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.832 (threshold: 0.22)
2025-10-20 16:06:22.152 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-10-20 16:06:22.993 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-10-20 16:06:30.114 | INFO     | rag_engine:generate_answer:373 - Successfully received response from OpenRouter
2025-11-12 13:45:55.243 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-11-12 13:45:55.436 | INFO     | __main__:<module>:598 - ============================================================
2025-11-12 13:45:55.437 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-11-12 13:45:55.437 | INFO     | __main__:<module>:600 - ============================================================
2025-11-12 13:45:55.438 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-11-12 13:45:55.438 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-11-12 13:45:55.439 | INFO     | __main__:<module>:603 - ============================================================
2025-11-12 13:45:55.655 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-11-12 13:45:55.656 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-11-12.jsonl
2025-11-12 13:45:55.694 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-11-12 13:45:55.695 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-bb7ce27d8ba...
2025-11-12 13:45:55.696 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-11-12 13:45:59.646 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-11-12 13:46:02.605 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-11-12 13:46:02.637 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-11-12 13:46:02.700 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-11-12 13:46:05.496 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-11-12 13:46:05.497 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-11-12 13:47:21.443 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): Your office timing in Pakistan?
...
2025-11-12 13:47:21.446 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: Your office timing in Pakistan?...
2025-11-12 13:47:25.395 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.861 (threshold: 0.22)
2025-11-12 13:47:25.396 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-11-12 13:47:25.996 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:47:27.418 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:47:27.419 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:47:31.902 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:47:33.247 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:47:33.248 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:47:37.728 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:47:39.206 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:47:39.207 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:47:39.208 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2effb3c8cd0 state=finished raised Exception>]
2025-11-12 13:47:39.319 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 362, in generate_answer
    raise Exception(error_msg)
Exception: Invalid API key. Please check your OPENROUTER_API_KEY in .env file

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2effb3c8cd0 state=finished raised Exception>]

2025-11-12 13:47:39.338 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2effb3c8cd0 state=finished raised Exception>]
2025-11-12 13:48:07.422 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is leave today
...
2025-11-12 13:48:07.424 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is leave today...
2025-11-12 13:48:09.313 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.849 (threshold: 0.22)
2025-11-12 13:48:09.315 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-11-12 13:48:09.799 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:48:10.500 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:48:10.501 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:48:14.991 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:48:15.680 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:48:15.681 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:48:20.194 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:48:21.380 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:48:21.381 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:48:21.381 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2effb38b890 state=finished raised Exception>]
2025-11-12 13:48:21.385 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 362, in generate_answer
    raise Exception(error_msg)
Exception: Invalid API key. Please check your OPENROUTER_API_KEY in .env file

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2effb38b890 state=finished raised Exception>]

2025-11-12 13:48:21.396 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2effb38b890 state=finished raised Exception>]
2025-11-12 13:52:05.282 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy
...
2025-11-12 13:52:05.292 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-11-12 13:52:07.019 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-11-12 13:52:07.021 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-11-12 13:52:07.472 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:52:08.674 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:52:08.675 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:52:13.077 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:52:14.455 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:52:14.456 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:52:18.855 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-12 13:52:20.021 | ERROR    | rag_engine:generate_answer:361 - Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:52:20.022 | ERROR    | rag_engine:generate_answer:396 - Error calling OpenRouter: Invalid API key. Please check your OPENROUTER_API_KEY in .env file
2025-11-12 13:52:20.023 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x2effb3a9e50 state=finished raised Exception>]
2025-11-12 13:52:20.026 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 362, in generate_answer
    raise Exception(error_msg)
Exception: Invalid API key. Please check your OPENROUTER_API_KEY in .env file

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 469, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x2effb3a9e50 state=finished raised Exception>]

2025-11-12 13:52:20.037 | ERROR    | rag_engine:query:556 - Error in query pipeline: RetryError[<Future at 0x2effb3a9e50 state=finished raised Exception>]
2025-11-13 14:33:29.628 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-11-13 14:33:29.854 | INFO     | __main__:<module>:598 - ============================================================
2025-11-13 14:33:29.854 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-11-13 14:33:29.856 | INFO     | __main__:<module>:600 - ============================================================
2025-11-13 14:33:29.856 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-11-13 14:33:58.665 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-11-13 14:33:58.744 | INFO     | __main__:<module>:598 - ============================================================
2025-11-13 14:33:58.745 | INFO     | __main__:<module>:599 - ðŸš€ RAG Company Chatbot API Server
2025-11-13 14:33:58.746 | INFO     | __main__:<module>:600 - ============================================================
2025-11-13 14:33:58.747 | INFO     | __main__:<module>:601 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-11-13 14:33:58.747 | INFO     | __main__:<module>:602 - ðŸ”‘ API Key set: Yes
2025-11-13 14:33:58.748 | INFO     | __main__:<module>:603 - ============================================================
2025-11-13 14:33:59.002 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-11-13 14:33:59.003 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-11-13.jsonl
2025-11-13 14:33:59.035 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-11-13 14:33:59.036 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-5a27bc8f214...
2025-11-13 14:33:59.037 | INFO     | rag_engine:_load_resources:134 - Loading embedding model: all-mpnet-base-v2
2025-11-13 14:34:03.670 | INFO     | rag_engine:_load_resources:138 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-11-13 14:34:06.688 | INFO     | rag_engine:_load_resources:142 - Loading FAISS index...
2025-11-13 14:34:06.693 | INFO     | rag_engine:_load_resources:146 - Loading metadata...
2025-11-13 14:34:06.712 | INFO     | rag_engine:_load_resources:153 - Loaded 179 document chunks
2025-11-13 14:34:09.535 | INFO     | rag_engine:__init__:120 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-11-13 14:34:09.536 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-11-13 14:34:34.906 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy
...
2025-11-13 14:34:34.909 | INFO     | rag_engine:query:431 - Retrieving top 5 chunks for: What is the leave policy...
2025-11-13 14:34:39.950 | INFO     | rag_engine:query:449 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-11-13 14:34:39.967 | INFO     | rag_engine:query:467 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-11-13 14:34:40.963 | INFO     | rag_engine:generate_answer:352 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-13 14:34:50.310 | INFO     | rag_engine:generate_answer:373 - Successfully received response from OpenRouter
2025-11-15 02:15:10.833 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-11-15 02:15:11.017 | INFO     | __main__:<module>:591 - ============================================================
2025-11-15 02:15:11.017 | INFO     | __main__:<module>:592 - ðŸš€ RAG Company Chatbot API Server
2025-11-15 02:15:11.018 | INFO     | __main__:<module>:593 - ============================================================
2025-11-15 02:15:11.019 | INFO     | __main__:<module>:594 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-11-15 02:15:30.184 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-11-15 02:15:30.253 | INFO     | __main__:<module>:591 - ============================================================
2025-11-15 02:15:30.253 | INFO     | __main__:<module>:592 - ðŸš€ RAG Company Chatbot API Server
2025-11-15 02:15:30.254 | INFO     | __main__:<module>:593 - ============================================================
2025-11-15 02:15:30.254 | INFO     | __main__:<module>:594 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-11-15 02:15:30.255 | INFO     | __main__:<module>:595 - ðŸ”‘ API Key set: Yes
2025-11-15 02:15:30.255 | INFO     | __main__:<module>:596 - ============================================================
2025-11-15 02:15:30.448 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-11-15 02:15:30.450 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-11-15.jsonl
2025-11-15 02:15:30.480 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-11-15 02:15:30.480 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-5a27bc8f214...
2025-11-15 02:15:30.481 | INFO     | rag_engine:_load_resources:135 - Loading embedding model: all-mpnet-base-v2
2025-11-15 02:15:36.002 | INFO     | rag_engine:_load_resources:139 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-11-15 02:15:39.788 | INFO     | rag_engine:_load_resources:143 - Loading FAISS index...
2025-11-15 02:15:39.810 | INFO     | rag_engine:_load_resources:147 - Loading metadata...
2025-11-15 02:15:39.862 | INFO     | rag_engine:_load_resources:154 - Loaded 179 document chunks
2025-11-15 02:15:43.915 | INFO     | rag_engine:__init__:121 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-11-15 02:15:43.916 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-11-15 02:16:13.680 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy
...
2025-11-15 02:16:13.701 | INFO     | rag_engine:query:410 - Retrieving top 5 chunks for: What is the leave policy...
2025-11-15 02:16:17.043 | INFO     | rag_engine:query:428 - Retrieval confidence: 0.882 (threshold: 0.22)
2025-11-15 02:16:17.044 | INFO     | rag_engine:query:446 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-11-15 02:16:17.537 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:16:20.437 | ERROR    | rag_engine:generate_answer:344 - Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:16:20.438 | ERROR    | rag_engine:generate_answer:375 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:16:24.854 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:16:27.176 | ERROR    | rag_engine:generate_answer:344 - Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:16:27.177 | ERROR    | rag_engine:generate_answer:375 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:16:31.590 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:16:38.307 | INFO     | rag_engine:generate_answer:352 - Successfully received response from OpenRouter
2025-11-15 02:22:02.430 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is leave today...
2025-11-15 02:22:02.432 | INFO     | rag_engine:query:410 - Retrieving top 5 chunks for: What is leave today...
2025-11-15 02:22:04.173 | INFO     | rag_engine:query:428 - Retrieval confidence: 0.849 (threshold: 0.22)
2025-11-15 02:22:04.174 | INFO     | rag_engine:query:446 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-11-15 02:22:04.589 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:22:06.763 | ERROR    | rag_engine:generate_answer:344 - Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:22:06.764 | ERROR    | rag_engine:generate_answer:375 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:22:11.155 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:22:12.152 | ERROR    | rag_engine:generate_answer:344 - Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:22:12.153 | ERROR    | rag_engine:generate_answer:375 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:22:16.569 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:22:17.598 | ERROR    | rag_engine:generate_answer:344 - Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:22:17.598 | ERROR    | rag_engine:generate_answer:375 - Error calling OpenRouter: Rate limit exceeded. Please wait a moment and try again
2025-11-15 02:22:17.599 | ERROR    | error_handler:handle_error:68 - Error in query_pipeline: RetryError[<Future at 0x1888082bd10 state=finished raised Exception>]
2025-11-15 02:22:17.655 | ERROR    | error_handler:handle_error:69 - Traceback: Traceback (most recent call last):
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 345, in generate_answer
    raise Exception(error_msg)
Exception: Rate limit exceeded. Please wait a moment and try again

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Python Project\RAG Project\rag-openrouter\src\rag_engine.py", line 448, in query
    generation_result = await self.generate_answer(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        system_msg, user_msg, model, temperature
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\asyncio\__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\FlaskPython\Lib\site-packages\tenacity\_utils.py", line 99, in inner
    return call(*args, **kwargs)
  File "D:\FlaskPython\Lib\site-packages\tenacity\__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x1888082bd10 state=finished raised Exception>]

2025-11-15 02:22:17.670 | ERROR    | rag_engine:query:537 - Error in query pipeline: RetryError[<Future at 0x1888082bd10 state=finished raised Exception>]
2025-11-15 02:27:13.827 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-11-15 02:27:13.904 | INFO     | __main__:<module>:591 - ============================================================
2025-11-15 02:27:13.904 | INFO     | __main__:<module>:592 - ðŸš€ RAG Company Chatbot API Server
2025-11-15 02:27:13.905 | INFO     | __main__:<module>:593 - ============================================================
2025-11-15 02:27:13.906 | INFO     | __main__:<module>:594 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-11-15 02:27:13.906 | INFO     | __main__:<module>:595 - ðŸ”‘ API Key set: Yes
2025-11-15 02:27:13.907 | INFO     | __main__:<module>:596 - ============================================================
2025-11-15 02:27:13.985 | INFO     | api_openrouter:<module>:37 - Using Enhanced RAG Engine with all optimizations
2025-11-15 02:27:13.987 | INFO     | audit_logger:__init__:23 - Audit logger initialized: data\audit\audit_2025-11-15.jsonl
2025-11-15 02:27:14.029 | INFO     | api_openrouter:startup_event:81 - Initializing RAG Engine...
2025-11-15 02:27:14.029 | INFO     | api_openrouter:startup_event:86 - âœ… API Key loaded: sk-or-v1-5a27bc8f214...
2025-11-15 02:27:14.030 | INFO     | rag_engine:_load_resources:135 - Loading embedding model: all-mpnet-base-v2
2025-11-15 02:27:33.022 | INFO     | database:_init_db:105 - âœ… Database initialized at D:\Python Project\RAG Project\rag-openrouter\data\analytics.db
2025-11-15 02:27:33.080 | INFO     | __main__:<module>:591 - ============================================================
2025-11-15 02:27:33.080 | INFO     | __main__:<module>:592 - ðŸš€ RAG Company Chatbot API Server
2025-11-15 02:27:33.082 | INFO     | __main__:<module>:593 - ============================================================
2025-11-15 02:27:33.082 | INFO     | __main__:<module>:594 - ðŸ“‚ Data directory: D:\Python Project\RAG Project\rag-openrouter\data
2025-11-15 02:27:38.503 | INFO     | rag_engine:_load_resources:139 - Loading re-ranker model: cross-encoder/ms-marco-MiniLM-L-6-v2
2025-11-15 02:27:43.120 | INFO     | rag_engine:_load_resources:143 - Loading FAISS index...
2025-11-15 02:27:43.134 | INFO     | rag_engine:_load_resources:147 - Loading metadata...
2025-11-15 02:27:43.149 | INFO     | rag_engine:_load_resources:154 - Loaded 179 document chunks
2025-11-15 02:27:48.012 | INFO     | rag_engine:__init__:121 - âœ… Enhanced RAG Engine initialized successfully with all optimizations
2025-11-15 02:27:48.014 | INFO     | api_openrouter:startup_event:91 - âœ… RAG Engine initialized successfully
2025-11-15 02:28:19.735 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is leave today...
2025-11-15 02:28:19.740 | INFO     | rag_engine:query:410 - Retrieving top 5 chunks for: What is leave today...
2025-11-15 02:28:23.783 | INFO     | rag_engine:query:428 - Retrieval confidence: 0.849 (threshold: 0.22)
2025-11-15 02:28:23.787 | INFO     | rag_engine:query:446 - Generating answer using meta-llama/llama-3.2-3b-instruct:free...
2025-11-15 02:28:24.324 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:28:24.342 | ERROR    | rag_engine:generate_answer:372 - Cannot connect to OpenRouter API. Please check your internet connection: [Errno 11001] getaddrinfo failed
2025-11-15 02:28:28.763 | INFO     | rag_engine:generate_answer:331 - Calling OpenRouter API with model: meta-llama/llama-3.2-3b-instruct:free
2025-11-15 02:28:33.828 | INFO     | rag_engine:generate_answer:352 - Successfully received response from OpenRouter
2025-11-15 02:32:36.654 | INFO     | api_openrouter:query_endpoint:164 - Query from Regular User (127.0.0.1): What is the leave policy...
2025-11-15 02:32:36.675 | INFO     | rag_engine:query:397 - âœ… Cache hit for query: What is the leave policy...
